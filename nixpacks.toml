# Railway Build Configuration - Full Stack WhatsApp Chat Button

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = [
  "npm install --legacy-peer-deps",
  "cd web && npm install --legacy-peer-deps && cd ..",
  "cd web/frontend && npm install --legacy-peer-deps && cd ../.."
]

[phases.build]
cmds = [
  "cd web/frontend && npm run build && cd ../.."
]

[start]
cmd = "cd web && node index.js"
